"use strict";(self.webpackChunkreact_search_movies_by_name=self.webpackChunkreact_search_movies_by_name||[]).push([[706],{706:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r,a,c,u=n(439),i=n(686),o=n.n(i),s=n(791),f=n(87),l=n(689),p=n(168),h=n(444),m=h.ZP.form(r||(r=(0,p.Z)(["\n  margin-bottom: 10px;\n"]))),d=h.ZP.input(a||(a=(0,p.Z)(["\n  padding: 4px 2px;\n"]))),v=n(184);function x(e){var t=e.handleSubmit,n=e.movieName,r=e.handleInputChange;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(m,{onSubmit:t,children:(0,v.jsx)(d,{value:n,name:"query",onChange:r,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})})})}var y=h.ZP.li(c||(c=(0,p.Z)(["\n  margin-bottom: 8px;\n  &:last-child {\n    margin-right: 0px;\n  }\n"]))),k=n(910);function w(){var e,t=(0,s.useState)(""),n=(0,u.Z)(t,2),r=n[0],a=n[1],c=(0,f.lr)({}),i=(0,u.Z)(c,2),p=i[0],h=i[1],m=(0,s.useState)([]),d=(0,u.Z)(m,2),w=d[0],b=d[1],g=null!==(e=p.get("query"))&&void 0!==e?e:"",Z=(0,l.TH)();return(0,s.useEffect)((function(){g&&(0,k.vw)(g).then((function(e){b(e)})).catch((function(e){return alert(e)}))}),[g]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x,{handleSubmit:function(e){if(e.preventDefault(),""===r.trim())return o().Notify.failure("Enter the name of the movie");h({query:r}),a("")},movieName:r,handleInputChange:function(e){a(e.currentTarget.value.toLowerCase())}}),w&&(0,v.jsx)("ul",{children:w.map((function(e){var t=e.id,n=e.title;return(0,v.jsx)(y,{children:(0,v.jsx)(f.rU,{to:"".concat(t),state:Z,children:n})},t)}))})]})}},910:function(e,t,n){n.d(t,{Bt:function(){return y},DD:function(){return m},Tg:function(){return p},vw:function(){return f},y:function(){return v}});var r=n(861),a=n(757),c=n.n(a),u=n(686),i=n.n(u),o="https://api.themoviedb.org/",s="604d147cd55c0bcd03b68a72549a64de";function f(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/search/movie?api_key=").concat(s,"&query=").concat(t,"&language=en-US&include_adult=false"));case 2:if((n=e.sent).ok){e.next=7;break}if(404!==n.status){e.next=6;break}throw new Error(i().Notify.failure("Search result not successful. Try again"));case 6:return e.abrupt("return");case 7:return e.next=9,n.json();case 9:if(r=e.sent,0!==(a=r.results).length){e.next=14;break}return i().Notify.failure("Search result not successful. Enter the correct movie name."),e.abrupt("return");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/trending/movie/week?api_key=").concat(s,"&language=en-US"));case 2:if((t=e.sent).ok){e.next=5;break}throw new Error(i().Notify.failure("Failed to fetch trending movies"));case 5:return e.next=7,t.json();case 7:return n=e.sent,r=n.results,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/movie/").concat(t,"?api_key=").concat(s,"&language=en-US"));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(i().Notify.failure("Failed to fetch movie details"));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/movie/").concat(t,"/credits?api_key=").concat(s));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(i().Notify.failure("Failed to fetch movie details"));case 5:return e.next=7,n.json();case 7:return r=e.sent,a=r.cast,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"3/movie/").concat(t,"/reviews?api_key=").concat(s));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(i().Notify.failure("Failed to fetch movie details"));case 5:return e.next=7,n.json();case 7:return r=e.sent,a=r.results,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=706.fd8f89f2.chunk.js.map